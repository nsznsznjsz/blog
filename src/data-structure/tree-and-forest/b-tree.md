---
title: B 树
date: 2021-2-14
draft: true
---

B 树是一种自平衡树，能够保持数据的有序，且拥有良好的查找性能和更少的读盘次数，因此其常用于文件系统和数据库的设计实现中。

<!--more-->

平衡二叉树在查找等性能上已经十分优越，查找次数（树高）达到了对数时间 $log_{2}n$，这一性能指标用于内存查找时十分高效，但是当面对外部硬盘时，$t_{读盘时间}>>t_{查找时间}$，人们希望设计一种能够尽可能减少读盘次数的数据结构。顺着二叉树的思路，人们在二叉树的基础上该进得到了B树（m叉查找树），将树高降到了 $log_{m}n$ 。

## 定义

一个 $m$ 阶的 $B$ 树是有以下属性的树：

1. 每一个节点最多有 $m$ 个子节点；
2. 每一个节点（除根节点）最少有 $\lfloor m/2 \rfloor$ 个子节点；
3. 如果根节点不是叶子节点，那么它至少有两个子节点
4. 有 $k$ 个子节点的非叶子节点拥有 $k − 1$ 个键
5. 所有的叶子节点都在同一层

其中性质2和性质4的约束使 $B$ 树至少为一颗半满的树来保证存储密度；$B$ 树的叶子节点通常指的是额外填充的空节点，当查找操作到达空节点时，即代表查找失败，这一层叶节点可以计入 $B$ 树的高度，也可以不计入。

